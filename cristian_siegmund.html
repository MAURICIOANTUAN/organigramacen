
<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<title>Organigrama Cristian Siegmund</title>
<script src="https://www.gstatic.com/charts/loader.js" type="text/javascript"></script>
<script type="text/javascript">
          google.charts.load('current', {packages:["orgchart"]});
          google.charts.setOnLoadCallback(drawChart);
          function drawChart() {
            var data = new google.visualization.DataTable();
            data.addColumn('string', 'Cargo');
            data.addColumn('string', 'Superior');
            data.addColumn('string', 'Tooltip');

            data.addRows([
  [
    "<div style='background:#005b96;color:white;border-radius:5px;padding:10px'><b>Cristian Siegmund</b><br><i>(Gerencia Supermercados Chile)</i></div>",
    "",
    "(Gerencia Supermercados Chile)"
  ],
  [
    "<div style='background:#a8e6a1;border-radius:5px;padding:8px;font-size:16px'><b>\ud83e\uddd1\u200d\ud83d\udcbc Auditoria SM</b><br><i>CECO: CGS1008015</i><br><b>Reparte: SI</b></div>",
    "<div style='background:#005b96;color:white;border-radius:5px;padding:10px'><b>Cristian Siegmund</b><br><i>(Gerencia Supermercados Chile)</i></div>",
    "Equipo"
  ],
  [
    "<div style='background:#a8e6a1;border-radius:5px;padding:6px;font-size:14px'><b>\ud83c\udfe2 Operaciones Regional SM CHI. (SM SPID)</b><br><i>CECO: CGS1008015</i><br><b>Reparte: SI</b></div>",
    "<div style='background:#a8e6a1;border-radius:5px;padding:8px;font-size:16px'><b>\ud83e\uddd1\u200d\ud83d\udcbc Auditoria SM</b><br><i>CECO: CGS1008015</i><br><b>Reparte: SI</b></div>",
    "\u00c1rea Espec\u00edfica"
  ],
  [
    "<div style='background:#a8e6a1;border-radius:5px;padding:5px;font-size:13px'>\ud83d\udc64 Gerente (HC: 1)<br><i>Gerente</i><br>CECO: CGS1008015<br><b>Reparte: SI</b></div>",
    "<div style='background:#a8e6a1;border-radius:5px;padding:6px;font-size:14px'><b>\ud83c\udfe2 Operaciones Regional SM CHI. (SM SPID)</b><br><i>CECO: CGS1008015</i><br><b>Reparte: SI</b></div>",
    "Gerente"
  ]
]);

            var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));
            chart.draw(data, {
          allowCollapse:true,
          nodeClass:'node-spacing',
          allowCollapse:true,
          nodeClass:'node-spacing',
          allowCollapse:true,
          nodeClass:'node-spacing',
          size:'large',
          nodeClass:'node-spacing',
              allowHtml:true,
              allowCollapse:true
            });
          }
        </script>
<style>
          html, body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            height: 100%;
            width: 100%;
            overflow: auto;
          }
          #chart_div {
        zoom: 1.1;
        padding: 50px;
        padding-bottom: 100px;
            margin: 20px;
          }
        
      .node-spacing table {
        margin: 20px 30px !important;
      }
      .node-spacing td {
        padding: 20px 10px !important;
      }
      </style>

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f4f6f8;
    padding-top: 80px;
  }

  .header-fixed {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background-color: #0d47a1;
    color: white;
    padding: 12px;
    text-align: center;
    z-index: 1000;
  }

  .header-fixed button {
    background-color: #1565c0;
    color: white;
    border: none;
    padding: 10px 18px;
    border-radius: 6px;
    font-size: 15px;
    cursor: pointer;
    margin: 0 10px;
  }

  .header-fixed button:hover {
    background-color: #1976d2;
  }

  .chart-container {
    border: 3px dashed #0d47a1;
    background: white;
    padding: 20px;
    margin: 20px;
    overflow: auto;
    height: 75vh;
  }

  .zoom-controls {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: white;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    padding: 10px;
    display: flex;
    gap: 10px;
    z-index: 1001;
  }

  .zoom-controls button {
    font-size: 18px;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 6px;
    cursor: pointer;
    background-color: white;
    transition: background-color 0.2s, transform 0.1s;
  }

  .zoom-controls button:hover {
    background-color: #e0e0e0;
  }

  .zoom-controls button:active {
    background-color: #cfd8dc;
    transform: scale(0.95);
  }
</style>
</head>
<body>
<div class="header-fixed">
<button onclick="window.location.href='index.html'">‚Üê Volver al inicio</button>
<button onclick="exportPDF()">üñ® Exportar PDF</button>
</div>

<div id="leyenda" style="margin:40px;padding:20px;background:#e3f2fd;border-radius:10px;max-width:900px">
<ul style="font-size:16px;line-height:1.8">
<li>üßë‚Äçüíº <b>Equipo</b>: Agrupaci√≥n organizacional mayor.</li>
<li>üè¢ <b>√Årea Espec√≠fica</b>: Subdepartamento o √°rea funcional.</li>
<li>üë§ <b>Profesional</b>: Cargo + agrupaci√≥n funcional.</li>
<li>‚úÖ / üüß <b>CECO y Reparte</b>:
      <ul>
<li>üü© Fondo verde: CECO que <b>reparte: SI</b>.</li>
<li>üüß Fondo naranjo: CECO que <b>reparte: NO</b>.</li>
</ul>
</li>
</ul>
</div>
<div class="chart-container"><div id="chart_div" style="transform: scale(1); transform-origin: top left;"></div></div>
<div style="margin:40px;text-align:center">
<a href="index.html" style="text-decoration:none;">
<button style="background:#1976d2;color:white;border:none;padding:12px 20px;font-size:16px;border-radius:8px;cursor:pointer;">
      ‚¨Ö Volver al Inicio
    </button>
</a>
</div>

<div class="zoom-controls">
<button onclick="zoomOut()">‚ûñ</button>
<button onclick="resetZoom()">üîÑ</button>
<button onclick="zoomIn()">‚ûï</button>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script>
let scale = 1;

function zoomIn() {
  scale += 0.1;
  applyZoom();
}

function zoomOut() {
  scale = Math.max(0.2, scale - 0.1);
  applyZoom();
}

function resetZoom() {
  scale = 1;
  applyZoom();
}

function applyZoom() {
  const div = document.getElementById("chart_div");
  div.style.transform = "scale(" + scale + ")";
  div.style.transformOrigin = "top left";
}

function exportPDF() {
  const element = document.querySelector(".chart-container") || document.getElementById("chart_div");
  const opt = {
    margin: 0.5,
    filename: 'organigrama.pdf',
    image: { type: 'jpeg', quality: 0.98 },
    html2canvas: { scale: 2 },
    jsPDF: { unit: 'in', format: 'a2', orientation: 'landscape' }
  };
  html2pdf().set(opt).from(element).save();
}
</script>
</body>
</html>
